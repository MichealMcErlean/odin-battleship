(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],d=r.base?l[0]+r.base:l[0],c=i[d]||0,u="".concat(d," ").concat(c);i[d]=c+1;var h=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),d=0;d<i.length;d++){var c=n(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},365:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,'* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  font-size: 10px;\n}\n\nbody {\n  height: 100vh;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  background-image: linear-gradient(royalblue, mediumblue, darkblue);\n}\n\nmain {\n  background-color: linen;\n  font-family:\'Courier New\', Courier, monospace;\n  margin-left: clamp(200px, 20%, 300px);\n  margin-right: clamp(200px, 20%, 300px);\n  display: grid;\n  height: 100%;\n  grid-template-areas:\n      "buft buft buft"\n      "sd1 comp sd2"\n      "mid1 midP mid2"\n      "sd3 hum sd4"\n      "bufb bufb bufb";\n  grid-template-columns: 1fr 480px 1fr;\n  grid-template-rows: 20px auto auto auto 20px;\n}\n\n.computer-board,\n.player-board {\n  aspect-ratio: 1 / 1;\n  background-color: midnightblue;\n  \n  \n}\n\n.computer-board {\n  grid-area: comp;\n  align-self: self-end;\n  outline: 6px inset red;\n}\n\n.comp-row-div {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n}\n\n.comp-col-div {\n  aspect-ratio: 1 / 1;\n}\n\n.comp-cell-btn {\n  height: 100%;\n  width: 100%;\n  border: none;\n  font-weight: 900;\n  font-size: 4.8rem;\n  color: white;\n  background-color: midnightblue;\n  transition: 0.4s;\n}\n\n.comp-cell-btn:active {\n  background-color: red;\n}\n\n.player-board {\n  grid-area: hum;\n  outline: 6px inset green;\n}\n\n.hum-row-div {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n}\n\n.hum-col-div {\n  aspect-ratio: 1 / 1;\n  color: white;\n  align-self:center;\n  justify-self: center;\n  font-size: 4.8rem;\n  font-weight: 900;\n}\n\n.buffer-top {\n  grid-area: buft;\n}\n\n.sidetl {\n  grid-area: sd1;\n}\n\n.sidetr {\n  grid-area: sd2;\n}\n\n.mid1 {\n  grid-area: mid1;\n}\n\n.midP {\n  grid-area: midP;\n  font-size: 1.6rem;\n  display: grid;\n  grid-template-areas:\n      "btns theirs msg"\n      "btnr yours msg";\n  grid-template-rows: 1fr 1fr;\n  grid-template-columns: 1fr 2fr 3fr;\n  align-items:center;\n  padding: 8px;\n}\n\n.btn-restart {\n  grid-area: btns;\n}\n\n.btn-regen {\n  grid-area: btnr;\n}\n\n.p-theirs {\n  grid-area: theirs;\n  justify-self: right;\n  padding: 5px;\n  font-size: 1.4rem;\n}\n\n.p-yours {\n  grid-area: yours;\n  justify-self: right;\n  padding: 5px;\n  font-size: 1.4rem;\n}\n\n.num-theirs,\n.num-yours {\n  font-size: 1.8rem;\n  font-weight: bold;\n}\n\n.d-msg {\n  margin: 10px;\n  grid-area: msg;\n  height: 100%;\n  background-color: white;\n  border: 3px inset black;\n}\n\np.msg {\n  height: 100%;\n  justify-self: right;\n  align-self: center;\n  padding: 5px;\n}\n\n.mid2 {\n  grid-area: mid2;\n}\n\n.sidebl {\n  grid-area: sd3;\n}\n\n.sidebr {\n  grid-area: sd4;\n}\n\n.buffer-bottom {\n  grid-area: bufb;\n}\n\nheader,\nfooter {\n  background-color: black;\n  color: white;\n  text-align: center;\n  font-size: 2.4rem;\n}',""]);const s=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),l=n.n(s),d=n(56),c=n.n(d),u=n(540),h=n.n(u),p=n(113),f=n.n(p),m=n(365),g={};g.styleTagTransform=f(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),o()(m.A,g),m.A&&m.A.locals&&m.A.locals;class b{constructor(e=2,t=0,n=!1,r=[],o=""){this.length=e,this.hits=t,this.sunk=!1,this.loc=r,this.name=o}hit(){this.hits+=1}isSunk(){return this.hits>=this.length&&(this.sunk=!0,!0)}}class y{constructor(e=10){this.size=e,this.board=this.#e(this.size),this.ships=[],this.shots=new Set}#e(e){let t=new Array(e);return t.fill(new Array(e).fill(0)),t}placeShip(e,t){e.loc=t;let n=!0;return this.ships.forEach(t=>{t.loc.forEach(t=>{e.loc.forEach(e=>{this.#t(t,e)&&(n=!1)})})}),!!n&&(this.ships.push(e),!0)}#t(e,t){return e[0]==t[0]&&e[1]==t[1]}validShot(e){return!this.shots.has(JSON.stringify(e))}receiveAttack(e){let t=e[0],n=e[1],r=null;return this.ships.forEach(o=>{o.loc.forEach(i=>{this.#t(e,i)&&(o.hit(),r=o,this.board[t][n]=2,o.isSunk()&&(this.ships=this.ships.filter(e=>0==e.isSunk())))})}),this.board[t][n]=1,this.shots.add(JSON.stringify(e)),null!==r&&r}shipsLeft(){return this.ships.length>0}generateRandomShipPlace(e){let t=[],n=Math.floor(2*Math.random());if(0==n){let n=Math.floor(Math.random()*(this.size+1-e.length)),r=Math.floor(Math.random()*this.size);t.push([n,r]);for(let o=n+1;o<n+e.length;o++)t.push([o,r])}else if(1==n){let n=Math.floor(Math.random()*this.size),r=Math.floor(Math.random()*(this.size+1-e.length));t.push([n,r]);for(let o=r+1;o<r+e.length;o++)t.push([n,o])}return t}}class v{constructor(e){this.board=new y,this.type="human"==e?e:"computer"}}const x=document.querySelector(".computer-board"),C=document.querySelector(".player-board"),w=document.querySelector("p.msg"),S=document.querySelector(".num-theirs"),k=document.querySelector(".num-yours"),E=document.querySelector(".btn-regen"),z=document.querySelector("body");function M(e){x.textContent="";for(let t=0;t<e.board.size;t++){let n=document.createElement("div");n.classList.add("comp-row-div");for(let r=0;r<e.board.size;r++){let e=document.createElement("div");e.classList.add("comp-col-div");let o=document.createElement("button");o.classList.add("comp-cell-btn"),o.textContent="~",o.dataset.cell=[t,r],e.appendChild(o),n.appendChild(e)}x.appendChild(n)}}function A(e){[new b(2,0,!1,[],"Destroyer"),new b(3,0,!1,[],"Cruiser"),new b(3,0,!1,[],"Submarine"),new b(4,0,!1,[],"Battleship"),new b(5,0,!1,[],"Carrier")].forEach(t=>{let n=!1;for(;0==n;){let r=e.board.generateRandomShipPlace(t);n=e.board.placeShip(t,r)}}),S.textContent=5}function L(e){[new b(2,0,!1,[],"Destroyer"),new b(3,0,!1,[],"Cruiser"),new b(3,0,!1,[],"Submarine"),new b(4,0,!1,[],"Battleship"),new b(5,0,!1,[],"Carrier")].forEach(t=>{let n=!1;for(;0==n;){let r=e.board.generateRandomShipPlace(t);n=e.board.placeShip(t,r)}}),k.textContent=5}function P(e){C.textContent="";for(let t=0;t<e.board.size;t++){let t=document.createElement("div");t.classList.add("hum-row-div");for(let n=0;n<e.board.size;n++){let e=document.createElement("div");e.classList.add("hum-col-div"),e.textContent="~",t.appendChild(e)}C.appendChild(t)}e.board.ships.forEach(t=>{t.loc.forEach(t=>{let n=T(t,e);n.textContent="O",n.style.color="lawngreen"})})}function q(e){w.textContent=e}function T(e,t){let n;n="human"==t.type?C.children:x.children;for(let r=0;r<n.length;r++){let o=n[r].children;for(let n=0;n<o.length;n++)if(e[0]==r&&e[1]==n)return"human"==t.type?o[n]:o[n].firstElementChild}return null}function j(e,t){for(let n=0;n<e.board.size;n++)for(let r=0;r<e.board.size;r++){let o=T([n,r],e);o.addEventListener("click",()=>{E.disabled=!0,w.textContent="",N(o.dataset.cell.split(","),o,e),0==e.board.shipsLeft()&&alert("You've won! Click 'Restart Game' to play again!"),z.style.pointerEvents="none",setTimeout(()=>{z.style.pointerEvents="auto"},1e3),O(t),0==t.board.shipsLeft()&&alert("You've lost! Hit 'Restart Game' to play again!")})}}function N(e,t,n){if(1!=t.disabled&&n.board.validShot(e)){let r=n.board.receiveAttack(e);0!=r?(t.textContent="X",t.style.color="red",t.disabled=!0,r.isSunk()?(q(`Sunk a ${r.name}!`),"human"==n.type?k.textContent=+k.textContent-1:S.textContent=+S.textContent-1):q(`Hit a ${r.name}!`)):(t.textContent="*",t.style.color="lightgrey",t.disabled=!0,q("You missed!"))}else q("Invalid shot - already fired there!")}function O(e){let t,n=!1;for(;!n;){t=[];let r=Math.floor(Math.random()*e.board.size),o=Math.floor(Math.random()*e.board.size);t.push(r),t.push(o),n=e.board.validShot(t)}let r=T(t,e),o=e.board.receiveAttack(t);0!=o?(r.textContent="X",r.style.color="red",o.isSunk()?(q(`Computer sunk a ${o.name}!`),k.textContent=+k.textContent-1):q(`Computer hit a ${o.name}!`)):(r.textContent="*",r.style.color="lightgrey",q("Computer missed!"))}console.log("Hello, Odinite!"),function(){let e,t;const n=document.querySelector(".btn-restart"),r=document.querySelector(".btn-regen");r.disabled=!0,n.addEventListener("click",()=>{e=new v("human"),t=new v("computer"),M(t),A(t),L(e),P(e),r.disabled=!1,q("Hit 'Roll New Positions' to change your ships, or click on the enemy grid to get started!"),j(t,e)}),r.addEventListener("click",()=>{e=new v("human"),t=new v("computer"),M(t),A(t),L(e),P(e),j(t)})}()})();